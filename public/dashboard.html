<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - LinkHub</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div class="dashboard">
    <aside class="sidebar">
      <a href="/" class="logo">LinkHub</a>
      <nav class="sidebar-nav">
        <a href="#links" class="active" data-tab="links">Links</a>
        <a href="#analytics" data-tab="analytics">Analytics</a>
        <a href="#settings" data-tab="settings">Settings</a>
      </nav>
      <div style="margin-top: auto; padding-top: 1rem; border-top: 1px solid var(--border);">
        <div id="planBadge" style="margin-bottom: 1rem; padding: 0.75rem; background: var(--bg); border-radius: 0.5rem; text-align: center;">
          <span id="planText" style="font-size: 0.875rem; color: var(--text-muted);">Free Plan</span>
          <a href="/pricing" id="upgradeLink" class="btn btn-primary btn-small" style="display: block; margin-top: 0.5rem;">Upgrade to Pro</a>
          <a href="#" id="manageBillingLink" style="display: none; font-size: 0.875rem; color: var(--text-muted);">Manage Billing</a>
        </div>
        <a href="#" id="viewProfile" style="display: block; color: var(--text-muted); margin-bottom: 0.5rem;">
          View My Page
        </a>
        <a href="#" id="logoutBtn" style="color: var(--danger);">Log Out</a>
      </div>
    </aside>

    <main class="main-content">
      <!-- Links Tab -->
      <section id="links-tab" class="tab-content active">
        <div class="page-header">
          <h1>Your Links</h1>
          <button class="btn btn-primary" id="addLinkBtn">+ Add Link</button>
        </div>

        <div class="stats-grid">
          <div class="stat-card">
            <h3>Total Views</h3>
            <div class="value" id="totalViews">0</div>
          </div>
          <div class="stat-card">
            <h3>Total Clicks</h3>
            <div class="value" id="totalClicks">0</div>
          </div>
          <div class="stat-card">
            <h3>Click Rate</h3>
            <div class="value" id="clickRate">0%</div>
          </div>
        </div>

        <div class="links-list" id="linksList">
          <p style="color: var(--text-muted); text-align: center; padding: 2rem;">
            Loading your links...
          </p>
        </div>
      </section>

      <!-- Analytics Tab -->
      <section id="analytics-tab" class="tab-content" style="display: none;">
        <div class="page-header">
          <h1>Analytics</h1>
        </div>

        <div class="stats-grid">
          <div class="stat-card">
            <h3>Views (7 days)</h3>
            <div class="value" id="views7d">0</div>
          </div>
          <div class="stat-card">
            <h3>Clicks (7 days)</h3>
            <div class="value" id="clicks7d">0</div>
          </div>
        </div>

        <h2 style="margin: 2rem 0 1rem;">Top Performing Links</h2>
        <div id="topLinks" class="links-list"></div>
      </section>

      <!-- Settings Tab -->
      <section id="settings-tab" class="tab-content" style="display: none;">
        <div class="page-header">
          <h1>Profile Settings</h1>
        </div>

        <div style="max-width: 600px;">
          <form id="settingsForm">
            <div class="form-group">
              <label for="displayName">Display Name</label>
              <input type="text" id="displayName" placeholder="Your Name">
            </div>

            <div class="form-group">
              <label for="bio">Bio</label>
              <textarea id="bio" rows="3" placeholder="Tell the world about yourself"></textarea>
            </div>

            <div class="form-group">
              <label for="avatarUrl">Avatar URL</label>
              <input type="url" id="avatarUrl" placeholder="https://example.com/your-photo.jpg">
            </div>

            <div class="form-group">
              <label for="theme">Theme</label>
              <select id="theme">
                <optgroup label="Free Themes">
                  <option value="default">Default (Purple/Pink)</option>
                  <option value="sunset">Sunset (Orange/Pink)</option>
                  <option value="ocean">Ocean (Cyan/Blue)</option>
                  <option value="forest">Forest (Green/Teal)</option>
                  <option value="midnight">Midnight (Purple/Indigo)</option>
                </optgroup>
                <optgroup label="Pro Themes" id="proThemes">
                  <option value="neon" data-pro="true">Neon (Green/Cyan)</option>
                  <option value="rose" data-pro="true">Rose (Pink)</option>
                  <option value="amber" data-pro="true">Amber (Orange/Red)</option>
                  <option value="cyber" data-pro="true">Cyber (Purple/Cyan)</option>
                  <option value="minimal-light" data-pro="true">Minimal Light</option>
                  <option value="minimal-dark" data-pro="true">Minimal Dark</option>
                  <option value="aurora" data-pro="true">Aurora (Rainbow)</option>
                  <option value="golden" data-pro="true">Golden (Yellow)</option>
                </optgroup>
              </select>
              <small id="themeHint" style="color: var(--text-muted); font-size: 0.75rem; display: none;">
                Pro themes require an upgrade. <a href="/pricing">Upgrade now</a>
              </small>
            </div>

            <button type="submit" class="btn btn-primary">Save Changes</button>
          </form>
        </div>
      </section>
    </main>
  </div>

  <!-- Add/Edit Link Modal -->
  <div class="modal-overlay" id="linkModal">
    <div class="modal">
      <h2 id="modalTitle">Add New Link</h2>
      <form id="linkForm">
        <input type="hidden" id="linkId">
        <div class="form-group">
          <label for="linkTitle">Title</label>
          <input type="text" id="linkTitle" required placeholder="My Website">
        </div>
        <div class="form-group">
          <label for="linkUrl">URL</label>
          <input type="url" id="linkUrl" required placeholder="https://example.com">
        </div>
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" id="cancelBtn">Cancel</button>
          <button type="submit" class="btn btn-primary">Save Link</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Toast Container -->
  <div class="toast-container" id="toasts"></div>

  <script src="/js/dashboard.js"></script>
</body>
</html>
